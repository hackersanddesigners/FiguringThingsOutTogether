{% extends "base.html" %}

{% block head %}
<title> {{ title }} </title>
<link href="{{ url_for('static', filename='css/print.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('static', filename=title + '.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('.static', filename='css/web-view.css') }}" rel="stylesheet" type="text/css" media="screen">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
<main id="webview">
  <!-- BUTTON -->
    <button class="change-behind" trigger = "0">&larr;</button>

  <!-- ARTICLES + CONTENTS -->
    <div class="content">
      {{ html | safe }}
    </div>

        <!-- TODO: 
          1.make this into a separate script file and move it to js folder + connect 
          2.
        -->

    <script>
      $(document).ready(function(){

        // this one moves the page left and right
        $('.change-behind').click(function(){
            if($('.mw-parser-output').attr("trigger")==="0"){
                $('.mw-parser-output, .change-behind').animate({"left":"23%"},700);
                $('.mw-parser-output, .change-behind').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");
            }
            else{
                $('.mw-parser-output, .change-behind').animate({"left":"0px"},700);
                $('.mw-parser-output, .change-behind').attr("trigger","0");
                $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");
            }
        }); 

        //between each h2 tag make a div wrap
        // $("h2").each(function() {
        //   $(this).nextUntil( "h2" ).wrapAll( "<div></div>" );
        //   // uncomment the two lines to move the h1 inside the wrapped div
        //   const el = $(this).next();
        //   $(this).prependTo(el);
        // });

        // //add class name to each div within a content page = Chapter
        // $( ".mw-parser-output div" ).addClass( "Chapter" );

        // //remove Chapter class where unnecessary, such as on image divs
        // $( ".thumb, .thumbinner, .thumbcaption, .magnify, .mw-references-wrap, .toclimit-3, .toc, .toctitle" ).removeClass( "Chapter" );

    });
    </script>
</main>
{% endblock %}

