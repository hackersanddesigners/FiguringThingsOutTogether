{% extends "base.html" %}

{% block head %}
<title> {{ title }} </title>
<link href="{{ url_for('static', filename='css/print.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('static', filename=title + '.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('.static', filename='css/web-view.css') }}" rel="stylesheet" type="text/css" media="screen">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
<main id="webview">
  <!-- BUTTON -->
  <button class="change-behind" trigger = "0">&larr;</button>

  <!-- ARTICLES + CONTENTS -->
    <div class="content">
      {{ html | safe }}
    </div>

        <!-- TODO: 
          1.make this into a separate script file and move it to js folder + connect 
        -->

    <script>
      $(document).ready(function(){

        // this one moves the page left and right
        $('.change-behind').click(function(){
            if($('.chapter, .Introduction-Figuring-Things').attr("trigger")==="0"){
                $('.chapter, .Introduction-Figuring-Things').animate({"left":"20%"},700);
                $('.chapter, .Introduction-Figuring-Things').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");

                $('.Demo-script').css("z-index", "-1");
            }
            else{
                $('.chapter, .Introduction-Figuring-Things').animate({"left":"0px"},700);
                $('.chapter, .Introduction-Figuring-Things').attr("trigger","0");
                $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");

                $('.Demo-script').css("z-index", "2");
                $('.toclimit-3').css("z-index", "0");
            }
        }); 

        //atempt in opening one article at a time 
        //INTERVENTION 1 = Open articles of each chapter when chapter is open (for now on toggle but should be one by one)
        $('a[href*="Setting_conditions"]').click(function(){
          $(".setting-conditions").toggle();
          $(".Introduction-Figuring-Things").hide();

          $('a[href*="Platframe_Postscript"]').toggle();
          $('a[href*="Re-,_Un-,Defining_Tools"]').toggle();
          $('a[href*="Open-source_Parenting"]').toggle();
          $('a[href*="A_history_of_consensus_decision_making"]').toggle();
          $('a[href*="Algorithmic_Consensus"]').toggle();
          $('a[href*="Mycelines:_A_Sympoetic_Imagination"]').toggle();
        });

        // problematic one because of '
        // $('a[href*="How-to's"]').click(function(){
        //   $(".how-tos").toggle();
        //   $(".Introduction-Figuring-Things").hide();
        // });

        $('a[href*="Prompts"]').click(function(){
          $(".prompts").toggle();
          $(".Introduction-Figuring-Things").hide();

          $('a[href*="Prompts_for_hanging_out_in_a_spreadsheet"]').toggle();
          $('a[href*="Propositioning"]').toggle();
          $('a[href*="Roleplaying_in_Etherpad"]').toggle();
        });

        $('a[href*="Scripted_syllabi"]').click(function(){
          $(".scripted-syllabi").toggle();
          $(".Introduction-Figuring-Things").hide();

          $('a[href*="Interfacial-Workouts"]').toggle();
          $('a[href*="wiki_reflections"]').toggle();
        });

        $('a[href*="Active_bibliographies"]').click(function(){
          $(".active-bibliographies").toggle();
          $(".Introduction-Figuring-Things").hide();

          $('a[href*="Workshop_Histories_and_Practices"]').toggle();
          $('a[href*=""]').toggle();
        });

    });
    </script>
</main>
{% endblock %}

