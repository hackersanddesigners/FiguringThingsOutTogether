{% extends "base.html" %}

{% block head %}
<title> {{ title }} </title>
<link href="{{ url_for('static', filename='css/print.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('static', filename=title + '.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('.static', filename='css/web-view.css') }}" rel="stylesheet" type="text/css" media="screen">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
{% endblock %}

{% block content %}
<main id="webview">

  <!-- <button class="show-all-scripts">SHOW THEM</button> -->
  <!-- BUTTON -->
  <div class="btn-wrapper">
    <button class="change-behind">&larr;</button>
  </div>

  <div class="close-wrapper">
    <button class="close close0">&#215;</button>
    <button class="close close1">&#215;</button>
    <button class="close close2">&#215;</button>
    <button class="close close3">&#215;</button>
    <button class="close close4">&#215;</button>
    <button class="close close5">&#215;</button>
    <button class="close close6">&#215;</button>
    <button class="close close7">&#215;</button>
    <button class="close close8">&#215;</button>
    <button class="close close9">&#215;</button>
    <button class="close close10">&#215;</button>
    <button class="close close11">&#215;</button>
    <button class="close close12">&#215;</button>
    <button class="close close13">&#215;</button>
    <button class="close close14">&#215;</button>
    <button class="close close15">&#215;</button>
    <button class="close close16">&#215;</button>
    <button class="close close17">&#215;</button>
    <button class="close close18">&#215;</button>
    <button class="close close19">&#215;</button>
    <button class="close close20">&#215;</button>
    <button class="close close21">&#215;</button>
    <button class="close close22">&#215;</button>
    <button class="close close23">&#215;</button>
    <button class="close close24">&#215;</button>
    <button class="close close25">&#215;</button>
    <button class="close close26">&#215;</button>
    <button class="close close27">&#215;</button>
    <button class="close close28">&#215;</button>
    <button class="close close29">&#215;</button>
    <button class="close close30">&#215;</button>
    <button class="close close31">&#215;</button>
  </div>

  <!-- ARTICLES + CONTENTS -->
    <div class="content">
      {{ html | safe }}
    </div>

    <script>
      $(document).ready(function(){

        // this one moves the page left and right
        $('.change-behind').click(function(){
            if($('.content, .btn-wrapper').attr("trigger")==="0"){
                $('.content, .btn-wrapper').animate({"left":"20%"},700);
                $('.content, .btn-wrapper').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");
            }
            else{
                $('.content, .btn-wrapper').animate({"left":"50px"},700);
                $('.content, .btn-wrapper').attr("trigger","0");
                $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");
            }
          });

          // on article click hide intro == #TODO rename the class of #Workshop_scripts_in_practice from toclevel-2 to toclevel-special
            $('a[href*="Workshop_Histories_and_Practices"], a[href*="Open-source_Parenting"], a[href*="Platframe_Postscript"], a[href*="WINWIN"], a[href*="On_consensus,_in_two_parts"], a[href*="#Re-_and_Un-_Defining_Tools"], a[href*="Mycelines:_A_Sympoetic_Imagination"], a[href*="fileSHA_as_protocol"], a[href*="Workshop_Histories_and_Practices"], a[href*="Relearning_Food"], a[href*="Across_Distance_and_Difference"], a[href*="Roleplaying_in_Etherpad"], a[href*="Spreadsheet_Routines"], a[href*="Channeling_Listeners"], a[href*="Untitling"], a[href*="Skinship"], a[href*="Learning_to_Experiment,_Sharing_Techniques"], a[href*="The_perfect_robbery"], a[href*="Scripts_from:_Learning_to_Experiment,_Sharing_Techniques_(ed._Julia_Bee_and_Gerko_Egert)"], a[href*="Give_and_Take"], a[href*="Bodystrike"], a[href*="The_perfect_robbery"], a[href*="Conceptual_Speed_Dating"], a[href*="The_Button_Saga"], a[href*="Mud_Batteries"], a[href*="Display(ing)"], a[href*="Cooperative_gaming"], a[href*="Interfacial-Workout"], a[href*="Am_I_a_hacker_now?"], a[href*="wiki_reflections"], a[href*="ChattyPub"], a[href*="Scripting_Workshops"],a[href*="Critical_Coding_Cookbook"], a[href*="Did_video_kill_the_radio_(star)?"], a[href*="A_case_of_mistaken_identity"], a[href*="Solarpunk_Postscript"], a[href*="Workshop_Matters_and_Materials"], a[href*="A_Note_on_the_design_of_this_publication"], a[href*="Colophon"]').click(function(){
              $('#Workshop_scripts_in_practice').hide();
            });

            $('a[href*="Workshop_scripts_in_practice"]').click(function(){
              $('#Workshop_scripts_in_practice').show();
            });

          //active link text-decoration underline
          var links = $("li.toclevel-2"); 
          $(links).click(function() {
              $(links).removeClass('active');
              $(this).addClass('active');
          });

          //TOC links toggle
            $('a[href*="First,_Then…_Repeat."]').click(function(){

              $('a[href*="Workshop_scripts_in_practice"]').toggle();

              $('.introduction').show()
              $('.setting-conditions, .prompts, .how-tos, .scripted-syllabi, .active-bibliographies, .colophon').hide();
            });

            $('a[href*="Setting_conditions"]').click(function(){
              event.preventDefault();

              $('a[href*="Workshop_Histories_and_Practices"]').toggle();
              $('a[href*="Open-source_Parenting"]').toggle();
              $('a[href*="Platframe_Postscript"]').toggle();
              $('a[href*="WINWIN"]').toggle();
              $('a[href*="On_consensus,_in_two_parts"]').toggle();
              $('a[href*="Re-_and_Un-_Defining_Tools"]').toggle();
              $('a[href*="Mycelines:_A_Sympoetic_Imagination"]').toggle();
              $('a[href*="fileSHA_as_protocol"]').toggle();
            });

            $('a[href*="Prompts"]').click(function(){
              event.preventDefault();

              $('a[href*="Relearning_Food"]').toggle();
              $('a[href*="Across_Distance_and_Difference"]').toggle();
              $('a[href*="Roleplaying_in_Etherpad"]').toggle();
              $('a[href*="Spreadsheet_Routines"]').toggle();
              $('a[href*="Channeling_Listeners"]').toggle();
              $('a[href*="Untitling"]').toggle();
              $('a[href*="Skinship"]').toggle();

              $('#Workshop_scripts_in_practice').hide();
            });

            $('a[href*="How-tos"]').click(function(){
              event.preventDefault();

              $('a[href*="Learning_to_Experiment,_Sharing_Techniques"]').toggle();
              $('a[href*="Scripts_from:_Learning_to_Experiment,_Sharing_Techniques_(ed._Julia_Bee_and_Gerko_Egert)"]').toggle();
              $('a[href*="Give_and_Take"]').toggle();
              $('a[href*="Bodystrike"]').toggle();
              $('a[href*="The_perfect_robbery"]').toggle();
              $('a[href*="Conceptual_Speed_Dating"]').toggle();
              $('a[href*="The_Button_Saga"]').toggle();
              $('a[href*="Mud_Batteries"]').toggle();
              $('a[href*="The_Indonesian_Women_Movement_GERWANI"]').toggle();
              $('a[href*="Display(ing)"]').toggle();

              $('#Workshop_scripts_in_practice').hide();
              // $('.how-tos').show()
              // $('.introduction, .setting-conditions, .prompts, .scripted-syllabi, .active-bibliographies, .colophon-credits').hide();
            });

            $('a[href*="Distributed_Curricula"]').click(function(){
              event.preventDefault();

              $('a[href*="Cooperative_gaming"]').toggle();
              $('a[href*="Interfacial-Workout"]').toggle();
              $('a[href*="Am_I_a_hacker_now?"]').toggle();
              $('a[href*="wiki_reflections"]').toggle();
              $('a[href*="ChattyPub"]').toggle();
              $('a[href*="Scripting_Workshops"]').toggle();

              $('#Workshop_scripts_in_practice').hide();
              // $('.scripted-syllabi').show()
              // $('.introduction, .setting-conditions, .prompts, .how-tos, .active-bibliographies, .colophon-credits').hide();
            });

            $('a[href*="Active_bibliographies"]').click(function(){
              event.preventDefault();

              $('a[href*="Critical_Coding_Cookbook"]').toggle();
              $('a[href*="Did_video_kill_the_radio_(star)?"]').toggle();
              $('a[href*="A_case_of_mistaken_identity"]').toggle();
              $('a[href*="Solarpunk_Postscript"]').toggle();
              $('a[href*="Workshop_Matters_and_Materials"]').toggle();
            });

            $('a[href*="Colophon"]').click(function(){
              event.preventDefault();

              $('a[href*="Credits"]').toggle();
              $('a[href*="A_Note_on_the_design_of_this_publication"]').toggle();
              $('a[href*="License"]').toggle();
            });

            //universal close (rewrite more of those)
            $('.close').click(function(){
              // $('.scriptothek-chapter').scrollTop(0);

              $('.scriptothek-wrapper').css("width", "21.5%");
              $('.close-wrapper').hide();
              $('.chapter, .btn-wrapper').show();

              $('.scriptothek-slideshow').css({"display":"block", "padding":"1%", "position":"relative"});
              $('.scriptothek-chapter a.image').css({"padding":"5%"})
              $('.script-image').css({"width": "100%", "height":"auto"});

              if($('.content, .btn-wrapper').attr("trigger")==="0"){
                $('.content, .btn-wrapper').animate({"left":"20%"},700);
                $('.content, .btn-wrapper').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");
              }
              else{
                  $('.content, .btn-wrapper').animate({"left":"50px"},700);
                  $('.content, .btn-wrapper').attr("trigger","0");
                  $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");
              }
            });
          
            // prevent default on script-trailer
            $('.script-image').click(function(e) {
              e.preventDefault();
              $('.scriptothek-wrapper').css("width", "96.5%");
              $('.chapter, .btn-wrapper').hide();
            }); 

            //universal scriptoteehk slideshow click
            $('.scriptothek-slideshow').click(function() {
              $('.scriptothek-slideshow').css({"display":"inline-flex", "padding":"1%", "overflow-x":"scroll", "width": "100%", "position":"relative"});
              $('.scriptothek-chapter a.image').css({"padding":"0px 5% 0px 5%"})
              $('.script-image').css({"height": "500px", "width":"auto"});

              // $('.scriptothek-chapter .thumbcaption').css({"padding":"0", "margin": "30% 5% 5% -40%"});

              $('.close').hide();
            });

            // show all scripts on button
            // $('.show-all-scripts').click(function() {
            //   $('.scriptothek-chapter').toggle();
            // });    

            // $('.footnote').prepend('<span class="star">&#x2731;</span>');

            var $n = $('<span />', {
            'class' : 'star',
            'text' : '*'
            });

            $('.footnote').before($n);

            //add numbers to footnotes and stars
            const paragraphs = document.getElementsByClassName('footnote');
            for (let i = 0; i < paragraphs.length; i++) paragraphs[i].setAttribute('id', 'footnote' + i);

            const stars = document.getElementsByClassName('star');
            for (let i = 0; i < stars.length; i++) stars[i].setAttribute('id', 'star', + i);

            // ADDING titles and what not
            //add title to scriptotheek
            $('.scriptothek-wrapper').prepend('<h2 class="scriptothek-title">Scriptothek</h2>');
            //add scrolling title
            $('.Workshop_scripts_in_practice').prepend('<marquee width="100%" direction="right" height="100px">First, Then… Repeat.</marquee>');
            $('.Workshop-Histories-and-Practices, .open-source-parenting, .platframe-postscript, .add-chaptertitle, .WINWIN, .Re-_and_Un-_Defining_Tools, .Myclines, .fileSHA_as_protocol').prepend('<marquee width="100%" direction="right" height="100px">Setting conditions</marquee>');
            $('.Across_Distance_and_Difference, .Channeling_Listeners, .Relearning_Food, .Untitling, .Roleplaying_in_Etherpad, .Skinship, .Spreadsheet_Routines').prepend('<marquee width="100%" direction="right" height="100px">Prompts</marquee>');
            $('.add-chaptertitle1, .Give_and_Take, .Bodystrike, .Conceptual_Speed_Dating, .The_perfect_robbery, .The_Indonesian_Women_Movement_GERWANI, .mud-batteries, .Saga, .add-title1').prepend('<marquee width="100%" direction="right" height="100px">How tos</marquee>');
            $('.Cooperative_gaming, .Interfacial-workout, .Scripting_Workshops, .add-chaptertitle2, .chattypub, .FREE-Wiki').prepend('<marquee width="100%" direction="right" height="100px">Distributed Curricula</marquee>');
            $('.Critical_Coding_Cookbook, .add-title, .A_case_of_mistaken_identity, .Solarpunk_Postscript, .Workshop_Matters_and_Materials').prepend('<marquee width="100%" direction="right" height="100px">Active bibliographies</marquee>');
            $('.Credits, .A_Note_on_the_design_of_this_publication, .License').prepend('<marquee width="100%" direction="right" height="100px">Colophon</marquee>');

// SCRIPTOTHEK
//on articles that don't have scriptotheks, show none
            $('a[href*="Workshop_scripts_in_practice"], a[href*="Relearning_Food"], a[href*="Untitling"], a[href*="Skinship"], a[href*="Critical_Coding_Cookbook"], a[href*="Workshop_Matters_and_Materials"], a[href*="Credits"], a[href*="A_Note_on_the_design_of_this_publication"], a[href*="License"]').click(function(){
              $('.scriptothek-chapter').hide();
            });

//all acriptotheks here we go
// SLIDESHOW 1 - NEW
            // $('a[href*="href*="Workshop_scripts_in_practice"]').click(function(){
            //   $('.scriptothek-chapter').hide();
            //   $('.scriptothek-chapter-1').show();
            // });

            // $('.scriptothek-slideshow-1').click(function() {
            //   $('.close-wrapper, .close1').show();
            // });

// SLIDESHOW 2 - NEW
            $('a[href*="Workshop_Histories_and_Practices"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-2').show();
            });

            $('.scriptothek-slideshow-2').click(function() {
              $('.close-wrapper, .close2').show();
            });

// SLIDESHOW 3
            $('a[href*="Open-source_Parenting"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-3').show();
            });

            $('.scriptothek-slideshow-3').click(function() {
              $('.close-wrapper, .close3').show();
            });

// SLIDESHOW 4
            $('a[href*="Platframe_Postscript"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-4').show();
            });

            $('.scriptothek-slideshow-4').click(function() {
              $('.close-wrapper, .close4').show();
            });

// SLIDESHOW 5
            $('a[href*="On_consensus,_in_two_parts"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-5').show();
            });

            $('.scriptothek-slideshow-5').click(function() {
              $('.close-wrapper, .close5').show();
            });

// SLIDESHOW 6
            $('a[href*="WINWIN"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-6').show();
            });

            $('.scriptothek-slideshow-6').click(function() {
              $('.close-wrapper, .close6').show();
            });

// SLIDESHOW 7
            $('a[href*="Re-_and_Un-_Defining_Tools"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-7').show();
            });

            $('.scriptothek-slideshow-7').click(function() {
              $('.close-wrapper, .close7').show();
              $('.script-image-7').css({"width": "400px"});
            });

// SLIDESHOW 8
            $('a[href*="Mycelines:_A_Sympoetic_Imagination"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-8').show();
            });

            $('.scriptothek-slideshow-8').click(function() {
              $('.close-wrapper, .close8').show();

              //unique features
              $('.scriptothek-slideshow-8').css({"display":"block"});
            });

// SLIDESHOW 9
            $('a[href*="fileSHA_as_protocol"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-9').show();
            });

            $('.scriptothek-slideshow-9').click(function() {
              $('.close-wrapper, .close9').show();
            });

// SLIDESHOW 10
            $('a[href*="Across_Distance_and_Difference"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-10').show();
            });

            $('.scriptothek-slideshow-10').click(function() {
              $('.close-wrapper, .close10').show();
            });

// SLIDESHOW 11
            $('a[href*="Channeling_Listeners"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-11').show();
            });

            $('.scriptothek-slideshow-11').click(function() {
              $('.close-wrapper, .close11').show();
            });

// SLIDESHOW 12
            $('a[href*="Roleplaying_in_Etherpad"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-12').show();
            });

            $('.scriptothek-slideshow-12').click(function() {
              $('.close-wrapper, .close12').show();
              //unique features
              $('.scriptothek-slideshow-12').css({"display":"block"});
            });

// SLIDESHOW 13
            $('a[href*="Spreadsheet_Routines"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-13').show();
            });

            // Spreadsheet_Routines
            $('.scriptothek-slideshow-13').click(function() {
              $('.close-wrapper, .close13').show();
              $('.Spreadsheet_Routines').css({"z-index":"-1"});
            });

            $('.close13').click(function(){
              $('.Spreadsheet_Routines').css({"z-index":"0"});
            });

// SLIDESHOW 14
            $('a[href*="Learning_to_Experiment,_Sharing_Techniques"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-14').show();
            });

            $('.scriptothek-slideshow-14').click(function() {
              $('.close-wrapper, .close14').show();
            });

// SLIDESHOW 15
            $('a[href*="Give_and_Take"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-15').show();
            });

            $('.scriptothek-slideshow-15').click(function() {
              $('.close-wrapper, .close15').show();
              //unique features
              $('.scriptothek-slideshow-15').css({"display":"block"});
            });

// SLIDESHOW 16
            $('a[href*="Bodystrike"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-16').show();
            });

            $('.scriptothek-slideshow-16').click(function() {
              $('.close-wrapper, .close16').show();
            });

// SLIDESHOW 17
            $('a[href*="Conceptual_Speed_Dating"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-17').show();
            });

            $('.scriptothek-slideshow-17').click(function() {
              $('.close-wrapper, .close17').show();
              //unique features
              $('.scriptothek-slideshow-17').css({"display":"block"});
            });

// SLIDESHOW 18
            $('a[href*="The_perfect_robbery"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-18').show();
            });

            $('.scriptothek-slideshow-18').click(function() {
              $('.close-wrapper, .close18').show();
              //unique features
              $('.scriptothek-slideshow-18').css({"display":"block"});
            });

// SLIDESHOW 19
            $('a[href*="The_Indonesian_Women_Movement_GERWANI"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-19').show();
            });

            $('.scriptothek-slideshow-19').click(function() {
              $('.close-wrapper, .close19').show();
            });

// SLIDESHOW 20
            $('a[href*="Mud_Batteries"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-20').show();
            });

            $('.scriptothek-slideshow-20').click(function() {
              $('.close-wrapper, .close20').show();
            });

// SLIDESHOW 21
            $('a[href*="The_Button_Saga"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-21').show();
            });

            $('.scriptothek-slideshow-21').click(function() {
              $('.close-wrapper, .close21').show();
            });

// SLIDESHOW 22
            $('a[href*="Display(ing)"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-22').show();
            });

            $('.scriptothek-slideshow-22').click(function() {
              $('.close-wrapper, .close22').show();
              //unique features
              $('.scriptothek-slideshow-22').css({"display":"block"});
            });

// SLIDESHOW 23
            $('a[href*="Cooperative_gaming"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-23').show();
            });

            $('.scriptothek-slideshow-23').click(function() {
              $('.close-wrapper, .close23').show();
            });

// SLIDESHOW 24
            $('a[href*="Interfacial-Workout"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-24').show();
            });

            $('.scriptothek-slideshow-24').click(function() {
              $('.close-wrapper, .close24').show();
              //unique features
              $('.scriptothek-slideshow-24').css({"display":"block"});
            });

// SLIDESHOW 25
            $('a[href*="Scripting_Workshops"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-25').show();
            });

            $('.scriptothek-slideshow-25').click(function() {
              $('.close-wrapper, .close25').show();
            });

// SLIDESHOW 26
            $('a[href*="Am_I_a_hacker_now?"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-26').show();
            });

            $('.scriptothek-slideshow-26').click(function() {
              $('.close-wrapper, .close26').show();
            });

// SLIDESHOW 27
            $('a[href*="ChattyPub"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-27').show();
            });

            $('.scriptothek-slideshow-27').click(function() {
              $('.close-wrapper, .close27').show();
            });

// SLIDESHOW 28 - check this one its new
            $('a[href*="wiki_reflections"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-28').show();
            });

            $('.scriptothek-slideshow-28').click(function() {
              $('.close-wrapper, .close28').show();
            //unique features
            $('.scriptothek-slideshow-28').css({"display":"block"});
            });

// SLIDESHOW 29
            $('a[href*="Did_video_kill_the_radio_(star)?"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-29').show();
            });

            $('.scriptothek-slideshow-29').click(function() {
              $('.close-wrapper, .close29').show();
            });

// SLIDESHOW 30
            $('a[href*="A_case_of_mistaken_identity"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-30').show();
            });

            $('.scriptothek-slideshow-30').click(function() {
              $('.close-wrapper, .close30').show();
            });

// SLIDESHOW 31
            $('a[href*="Solarpunk_Postscript"]').click(function(){
              $('.scriptothek-chapter').hide();
              $('.scriptothek-chapter-31').show();
            });

            $('.scriptothek-slideshow-31').click(function() {
              $('.close-wrapper, .close31').show();
              //unique features
              $('.scriptothek-slideshow-31').css({"display":"block"});
            });


//mobile demo
            function checkWidth() {
                var windowSize = $(window).width();

                if (windowSize < 420) {
                    // alert("this function is still working on mobile");
                    $( ".article" ).prepend( '<button class="mobile-arrow-right">→</button>' );
                    $( ".article" ).prepend( '<button class="mobile-arrow-left">&larr;</button>' );
                    $( ".scriptothek-wrapper" ).prepend( '<button class="close-script">X</button>' );

                    $('.toclevel-2').click(function(){
                      $('.mobile-arrow-right, .mobile-arrow-left').css({"z-index":"1"});

                      $('.toc-wrap').css({"z-index":"-1"});
                    });

                    $('.mobile-arrow-right').click(function(){
                      $('.mobile-arrow-right').css({"z-index":"-1"});
                      $('.mobile-arrow-left').css({"z-index":"-1"});


                      $('.toc-wrap').css({"z-index":"1"});
                    });

                    $('.mobile-arrow-left').click(function(){
                      $('.mobile-arrow-left').css({"z-index":"-1"});

                      $('.scriptothek-wrapper').css({"z-index":"1"});
                      $('.close-script').css({"z-index":"1"});
                    });

                    // $('.scriptothek-slideshow').click(function() {  
                    //   $('.scriptothek-wrapper').css({"width":"80%"});   
                    //   $('.scriptothek-slideshow').css({"display":"block", "position":"relative", "padding":"1%", "height":"100%"});
                    //   $('.scriptothek-chapter a.image').css({"padding":"5%"});
                    //   $('.script-image').css({"height": "auto", "width":"98%"});
                    //   $('.chapter').show();

                    //   $('.close-script').css({"z-index":"5"});
                    //   $('.close').hide();
                    // });

                    $('.close-script').click(function(){
                      $('.scriptothek-wrapper').css({"z-index":"-1"});
                      $('.mobile-arrow-left').css({"z-index":"1"});
                      // $('.scriptothek-chapter').scrollTop(0);
                    });

                }
            }

            // Execute on load
            checkWidth();
            // Bind event listener
            $(window).resize(checkWidth);


//ON VERTICAL SCROLL HORIZONTAL
    });

    // var scroller = {};
    // scroller.e = document.getElementsByClassName("scriptothek-wrapper");

    // if (scroller.e.addEventListener) {
    //     scroller.e.addEventListener("mousewheel", MouseWheelHandler, false);
    //     scroller.e.addEventListener("DOMMouseScroll", MouseWheelHandler, false);
    // } else scroller.e.attachEvent("onmousewheel", MouseWheelHandler);

    // function MouseWheelHandler(e) {

    //     // cross-browser wheel delta
    //     var e = window.event || e;
    //     var delta = - 20 * (Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail))));

    //     var pst = $('.scriptothek-wrapper').scrollLeft() + delta;

    //     if (pst < 0) {
    //         pst = 0;
    //     } else if (pst > $('.scriptothek-slideshow').width()) {
    //         pst = $('.scriptothek-slideshow').width();
    //     }

    //     $('.scriptothek-chapter').scrollLeft(pst);

    //     return false;
    // }


</script>
</main>
{% endblock %}

