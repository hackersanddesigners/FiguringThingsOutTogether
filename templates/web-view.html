{% extends "base.html" %}

{% block head %}
<title> {{ title }} </title>
<link href="{{ url_for('static', filename='css/print.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('static', filename=title + '.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('.static', filename='css/web-view.css') }}" rel="stylesheet" type="text/css" media="screen">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
<main id="webview">

  <button class="show-all-scripts">SHOW THEM</button>
  <!-- BUTTON -->
  <div class="btn-wrapper">
    <button class="change-behind">&larr;</button>
  </div>

  <div class="close-wrapper">
    <button class="close close0">&#215;</button>
    <button class="close close1">&#215;</button>
    <button class="close close2">&#215;</button>
    <button class="close close3">&#215;</button>
    <button class="close close4">&#215;</button>
    <button class="close close5">&#215;</button>
    <button class="close close6">&#215;</button>
    <button class="close close7">&#215;</button>
    <button class="close close8">&#215;</button>
  </div>

  <div class="slideshow-buttons slideshow0-buttons">
    <a class="prev" onclick="plusScripts0(-1)">&#60;</a>
    <a class="next" onclick="plusScripts0(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow1-buttons">
    <a class="prev" onclick="plusScripts1(-1)">&#60;</a>
    <a class="next" onclick="plusScripts1(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow2-buttons">
    <a class="prev" onclick="plusScripts2(-1)">&#60;</a>
    <a class="next" onclick="plusScripts2(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow3-buttons">
    <a class="prev" onclick="plusScripts3(-1)">&#60;</a>
    <a class="next" onclick="plusScripts3(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow4-buttons">
    <a class="prev" onclick="plusScripts4(-1)">&#60;</a>
    <a class="next" onclick="plusScripts4(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow5-buttons">
    <a class="prev" onclick="plusScripts5(-1)">&#60;</a>
    <a class="next" onclick="plusScripts5(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow6-buttons">
    <a class="prev" onclick="plusScripts6(-1)">&#60;</a>
    <a class="next" onclick="plusScripts6(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow7-buttons">
    <a class="prev" onclick="plusScripts7(-1)">&#60;</a>
    <a class="next" onclick="plusScripts7(1)">&#62;</a>
  </div>

  <div class="slideshow-buttons slideshow8-buttons">
    <a class="prev" onclick="plusScripts8(-1)">&#60;</a>
    <a class="next" onclick="plusScripts8(1)">&#62;</a>
  </div>

  <!-- ARTICLES + CONTENTS -->
    <div class="content">
      {{ html | safe }}
    </div>


    <script>
      $(document).ready(function(){

        // this one moves the page left and right
        $('.change-behind').click(function(){
            if($('.content, .btn-wrapper').attr("trigger")==="0"){
                $('.content, .btn-wrapper').animate({"left":"20%"},700);
                $('.content, .btn-wrapper').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");
            }
            else{
                $('.content, .btn-wrapper').animate({"left":"50px"},700);
                $('.content, .btn-wrapper').attr("trigger","0");
                $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");
            }
          });

          // on article click hide intro == #TODO rename the class of #Workshop_scripts_in_practice from toclevel-2 to toclevel-special
            $('a[href*="Workshop_Histories_and_Practices"], a[href*="Open-source_Parenting"], a[href*="Platframe_Postscript"], a[href*="WINWIN"], a[href*="On_consensus,_in_two_parts"], a[href*="#Re-_and_Un-_Defining_Tools"], a[href*="Mycelines:_A_Sympoetic_Imagination"], a[href*="fileSHA_as_protocol"], a[href*="Workshop_Histories_and_Practices"], a[href*="Relearning_Food"], a[href*="Across_Distance_and_Difference"], a[href*="Roleplaying_in_Etherpad"], a[href*="Spreadsheet_Routines"], a[href*="Channeling_Listeners"], a[href*="Untitling"], a[href*="Skinship"], a[href*="Learning_to_Experiment,_Sharing_Techniques"], a[href*="The_perfect_robbery"], a[href*="Scripts_from:_Learning_to_Experiment,_Sharing_Techniques_(ed._Julia_Bee_and_Gerko_Egert)"], a[href*="Give_and_Take"], a[href*="Bodystrike"], a[href*="The_perfect_robbery"], a[href*="Conceptual_Speed_Dating"], a[href*="The_Button_Saga"], a[href*="Mud_Batteries"], a[href*="Display(ing)"], a[href*="Cooperative_gaming"], a[href*="Interfacial-Workout"], a[href*="Am_I_a_hacker_now?"], a[href*="wiki_reflections"], a[href*="ChattyPub"], a[href*="Scripting_Workshops"],a[href*="Critical_Coding_Cookbook"], a[href*="Did_video_kill_the_radio_(star)?"], a[href*="A_case_of_mistaken_identity"], a[href*="Solarpunk_Postscript"], a[href*="Workshop_Matters_and_Materials"], a[href*="A_Note_on_the_design_of_this_publication"], a[href*="Colophon"]').click(function(){
              $('#Workshop_scripts_in_practice').hide();
            });

            $('a[href*="Workshop_scripts_in_practice"]').click(function(){
              $('#Workshop_scripts_in_practice').show();
            });

          //on chapter click open first article
          // $('.toclevel-1').click(function(){
          //   $('.setting-conditions .article:first-child').css("background", "red");
          // });

          //TOC links toggle
            $('a[href*="First,_Then…_Repeat."]').click(function(){
              $('a[href*="Workshop_scripts_in_practice"]').toggle();
            });

            $('a[href*="Setting_conditions"]').click(function(){
              event.preventDefault();

              $('a[href*="Workshop_Histories_and_Practices"]').toggle();
              $('a[href*="Open-source_Parenting"]').toggle();
              $('a[href*="Platframe_Postscript"]').toggle();
              $('a[href*="WINWIN"]').toggle();
              $('a[href*="On_consensus,_in_two_parts"]').toggle();
              $('a[href*="Re-_and_Un-_Defining_Tools"]').toggle();
              $('a[href*="Mycelines:_A_Sympoetic_Imagination"]').toggle();
              $('a[href*="fileSHA_as_protocol"]').toggle();

              // $('.introduction, .prompts, .how-tos, .scripted-syllabi, .active-bibliographies, .colophon-credits').hide();
            });

            $('a[href*="Prompts"]').click(function(){
              event.preventDefault();

              $('a[href*="Relearning_Food"]').toggle();
              $('a[href*="Across_Distance_and_Difference"]').toggle();
              $('a[href*="Roleplaying_in_Etherpad"]').toggle();
              $('a[href*="Spreadsheet_Routines"]').toggle();
              $('a[href*="Channeling_Listeners"]').toggle();
              $('a[href*="Untitling"]').toggle();
              $('a[href*="Skinship"]').toggle();

              $('#Workshop_scripts_in_practice').hide();
            });

            $('a[href*="How-tos"]').click(function(){
              event.preventDefault();

              $('a[href*="Learning_to_Experiment,_Sharing_Techniques"]').toggle();
              $('a[href*="Scripts_from:_Learning_to_Experiment,_Sharing_Techniques_(ed._Julia_Bee_and_Gerko_Egert)"]').toggle();
              $('a[href*="Give_and_Take"]').toggle();
              $('a[href*="Bodystrike"]').toggle();
              $('a[href*="The_perfect_robbery"]').toggle();
              $('a[href*="Conceptual_Speed_Dating"]').toggle();
              $('a[href*="The_Button_Saga"]').toggle();
              $('a[href*="Mud_Batteries"]').toggle();
              $('a[href*="#The_Indonesian_Women&#39;s_Movement_GERWANI"]').toggle();
              $('a[href*="Display(ing)"]').toggle();

              $('#Workshop_scripts_in_practice').hide();
            });

            $('a[href*="Distributed_Curricula"]').click(function(){
              event.preventDefault();

              $('a[href*="Cooperative_gaming"]').toggle();
              $('a[href*="Interfacial-Workout"]').toggle();
              $('a[href*="Am_I_a_hacker_now?"]').toggle();
              $('a[href*="wiki_reflections"]').toggle();
              $('a[href*="ChattyPub"]').toggle();
              $('a[href*="Scripting_Workshops"]').toggle();

              $('#Workshop_scripts_in_practice').hide();
            });

            $('a[href*="Active_bibliographies"]').click(function(){
              event.preventDefault();

              $('a[href*="Critical_Coding_Cookbook"]').toggle();
              $('a[href*="Did_video_kill_the_radio_(star)?"]').toggle();
              $('a[href*="A_case_of_mistaken_identity"]').toggle();
              $('a[href*="Solarpunk_Postscript"]').toggle();
              $('a[href*="Workshop_Matters_and_Materials"]').toggle();
              $('a[href*="A_Note_on_the_design_of_this_publication"]').toggle();
              $('a[href*="Colophon"]').toggle();
            });

            //universal close (rewrite more of those)
            $('.close').click(function(){
              $('.scriptothek-wrapper').css("width", "21.5%");
              $('.scriptothek-slideshow, .close-wrapper, .slideshow-buttons').hide();
              $('.chapter, .btn-wrapper').show();

              if($('.content, .btn-wrapper').attr("trigger")==="0"){
                $('.content, .btn-wrapper').animate({"left":"20%"},700);
                $('.content, .btn-wrapper').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");
              }
              else{
                  $('.content, .btn-wrapper').animate({"left":"50px"},700);
                  $('.content, .btn-wrapper').attr("trigger","0");
                  $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");
              }
            });

            //show all scripts on button
            $('.show-all-scripts').click(function() {
              $('.scriptothek-chapter').toggle();
              $('.scriptothek-slideshow').hide();
            }); 
          
            //prevent default on script-trailer
            $('.script-trailer').click(function(e) {
              e.preventDefault();
              $('.scriptothek-wrapper').css("width", "96.5%");
              $('.chapter, .btn-wrapper').hide();
            }); 

            //every 
            // $('.toclevel-2').click(function() {
            //   $('.scriptothek-chapter-0').hide()
            // }); 

//SLIDESHOW 0
            $('a[href*="Open-source_Parenting"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-0').hide();
              $('.scriptothek-chapter-0').show();
            });

            $('.script-trailer-0').click(function() {
              $('.script-trailer-0, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-0, .close-wrapper, .slideshow0-buttons, .close0').show();
            });

            $('.close0').click(function(){
              $('.script-trailer-0, .script-trailer').show();
            });

// SLIDESHOW 1
            $('a[href*="Platframe_Postscript"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-1').hide();
              $('.scriptothek-chapter-1').show();
            });

            $('.script-trailer-1').click(function() {
              $('.script-trailer-1,  .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-1, .close-wrapper, .slideshow1-buttons, .close1').show();
            });

            $('.close1').click(function(){
              $('.script-trailer-1, .script-trailer').show();
            });

//SLIDESHOW 2
            $('a[href*="Across_Distance_and_Difference"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-2').hide();
              $('.scriptothek-chapter-2').show();
            });

            $('.script-trailer-2').click(function() {
              $('.script-trailer-2, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-2, .close-wrapper, .slideshow2-buttons, .close2').show();
            });

            $('.close2').click(function(){
              $('.script-trailer-2, .script-trailer').show();
            });
          
// //SLIDESHOW 3
            $('a[href*="Channeling_Listeners"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-3').hide();
              $('.scriptothek-chapter-3').show();
            });

            $('.script-trailer-3').click(function() {
              $('.script-trailer-3, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-3, .close-wrapper, .slideshow3-buttons, .close3').show();
            });

            $('.close3').click(function(){
              $('.script-trailer-3, .script-trailer').show();
            });

// //SLIDESHOW 4
            $('a[href*="Skinship"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-4').hide();
              $('.scriptothek-chapter-4').show();
            });

            $('.script-trailer-4').click(function() {
              $('.script-trailer-4, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-4, .close-wrapper, .slideshow4-buttons, .close4').show();
            });

            $('.close4').click(function(){
              $('.script-trailer-4, .script-trailer').show();
            });

// //SLIDESHOW 5
            $('a[href*="Learning_to_Experiment,_Sharing_Techniques"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-5').hide();
              $('.scriptothek-chapter-5').show();
            });

            $('.script-trailer-5').click(function() {
              $('.script-trailer-5, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-5, .close-wrapper, .slideshow5-buttons, .close5').show();
            });

            $('.close5').click(function(){
              $('.script-trailer-5, .script-trailer').show();
            });

// // SLIDESHOW 6
            $('a[href*="Mud_Batteries"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-6').hide();
              $('.scriptothek-chapter-6').show();
            });

            $('.script-trailer-6').click(function() {
              $('.script-trailer-6, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-6, .close-wrapper, .slideshow6-buttons, .close6').show();
            });

            $('.close6').click(function(){
              $('.script-trailer-6, .script-trailer').show();
            });

// SLIDESHOW 7
            $('a[href*="Am_I_a_hacker_now?"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-7').hide();
              $('.scriptothek-chapter-7').show();
            });

            $('.script-trailer-7').click(function() {
              $('.script-trailer-7, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-7, .close-wrapper, .slideshow7-buttons, .close7').show();
            });

            $('.close7').click(function(){
              $('.script-trailer-7, .script-trailer').show();
            });

// SLIDESHOW 8
            $('a[href*="Critical_Coding_Cookbook"]').click(function(){
              $('.scriptothek-chapter, .scriptothek-slideshow-8').hide();
              $('.scriptothek-chapter-8').show();
            });

            $('.script-trailer-8').click(function() {
              $('.script-trailer-8, .script-trailer, .slideshow-buttons, .close').hide();
              $('.scriptothek-slideshow-8, .close-wrapper, .slideshow8-buttons, .close8').show();
            });

            $('.close8').click(function(){
              $('.script-trailer-8, .script-trailer').show();
            });
    });

  //SLIDESHOW 0
            var slideIndex = 1;
            showScripts0(slideIndex);

            function plusScripts0(n) {
              showScripts0(slideIndex += n);
            }

            function showScripts0(n) {
              var i;
              var x = document.getElementsByClassName("script-image-0");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }

  //SLIDESHOW 1
            var slideIndex = 1;
            showScripts1(slideIndex);

            function plusScripts1(n) {
              showScripts1(slideIndex += n);
            }

            function showScripts1(n) {
              var i;
              var x = document.getElementsByClassName("script-image-1");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }
  //SLIDESHOW 2
            var slideIndex = 1;
            showScripts2(slideIndex);

            function plusScripts2(n) {
              showScripts2(slideIndex += n);
            }

            function showScripts2(n) {
              var i;
              var x = document.getElementsByClassName("script-image-2");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }

  //SLIDESHOW 3 
            var slideIndex = 1;
            showScripts3(slideIndex);

            function plusScripts3(n) {
              showScripts3(slideIndex += n);
            }

            function showScripts3(n) {
              var i;
              var x = document.getElementsByClassName("script-image-3");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }

  //SLIDESHOW 4 - missing images
            // var slideIndex = 1;
            // showScripts4(slideIndex);

            // function plusScripts4(n) {
            //   showScripts4(slideIndex += n);
            // }

            // function showScripts4(n) {
            //   var i;
            //   var x = document.getElementsByClassName("script-image-4");
            //   if (n > x.length) {slideIndex = 1}
            //   if (n < 1) {slideIndex = x.length}
            //   for (i = 0; i < x.length; i++) {
            //     x[i].style.display = "none";  
            //   }
            //   x[slideIndex-1].style.display = "block";  
            // }

  //SLIDESHOW 5
            var slideIndex = 1;
            showScripts5(slideIndex);

            function plusScripts5(n) {
              showScripts5(slideIndex += n);
            }

            function showScripts5(n) {
              var i;
              var x = document.getElementsByClassName("script-image-5");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }

  //SLIDESHOW 6
            var slideIndex = 1;
            showScripts6(slideIndex);

            function plusScripts6(n) {
              showScripts6(slideIndex += n);
            }

            function showScripts6(n) {
              var i;
              var x = document.getElementsByClassName("script-image-6");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }

  //SLIDESHOW 7 - missing images
            // var slideIndex = 1;
            // showScripts7(slideIndex);

            // function plusScripts7(n) {
            //   showScripts7(slideIndex += n);
            // }

            // function showScripts7(n) {
            //   var i;
            //   var x = document.getElementsByClassName("script-image-7");
            //   if (n > x.length) {slideIndex = 1}
            //   if (n < 1) {slideIndex = x.length}
            //   for (i = 0; i < x.length; i++) {
            //     x[i].style.display = "none";  
            //   }
            //   x[slideIndex-1].style.display = "block";  
            // }

  // //SLIDESHOW 8 - missing images
  //           var slideIndex = 1;
  //           showScripts8(slideIndex);

  //           function plusScripts8(n) {
  //             showScripts8(slideIndex += n);
  //           }

  //           function showScripts8(n) {
  //             var i;
  //             var x = document.getElementsByClassName("script-image-8");
  //             if (n > x.length) {slideIndex = 1}
  //             if (n < 1) {slideIndex = x.length}
  //             for (i = 0; i < x.length; i++) {
  //               x[i].style.display = "none";  
  //             }
  //             x[slideIndex-1].style.display = "block";  
  //           }
</script>
</main>
{% endblock %}

