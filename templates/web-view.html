{% extends "base.html" %}

{% block head %}
<title> {{ title }} </title>
<link href="{{ url_for('static', filename='css/print.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('static', filename=title + '.css') }}" rel="stylesheet" type="text/css" media="screen">
<link href="{{ url_for('.static', filename='css/web-view.css') }}" rel="stylesheet" type="text/css" media="screen">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
<main id="webview">
  <!-- BUTTON -->
  <div class="btn-wrapper">
    <button class="change-behind">&larr;</button>
  </div>

  <div class="close-wrapper">
    <button class="close">&#215;</button>
  </div>

  <div class="slideshow-buttons">
    <a class="prev" onclick="plusDivs(-1)">&#60;</a>
    <a class="next" onclick="plusDivs(1)">&#62;</a>
  </div>


  <!-- ARTICLES + CONTENTS -->
    <div class="content">
      {{ html | safe }}
    </div>


    <script>
      $(document).ready(function(){

        // this one moves the page left and right
        $('.change-behind').click(function(){
            if($('.content, .btn-wrapper').attr("trigger")==="0"){
                $('.content, .btn-wrapper').animate({"left":"20%"},700);
                $('.content, .btn-wrapper').attr("trigger","1");
                $('.change-behind').text("←" == $(this).text() ? "→" : "←");

                $('.Demo-script').css("z-index", "-1");
            }
            else{
                $('.content, .btn-wrapper').animate({"left":"50px"},700);
                $('.content, .btn-wrapper').attr("trigger","0");
                $('.change-behind').text("&larr;" == $(this).text() ? "&larr;" : "→");

                $('.Demo-script').delay(3000).css("z-index", "2");
            }
          });

        // on article click hide intro !sketch! *develop a better solution*
        $('.toclevel-2').click(function(){
          $('.Introduction-Figuring-Things').hide();
        });

          //TOC links toggle
            $('a[href*="First,_Then…_Repeat."]').click(function(){
              $('a[href*="Workshop_scripts_in_practice"]').toggle();
            });

            $('a[href*="Setting_conditions"]').click(function(){
              $('a[href*="Open-source_Parenting"]').toggle();
              $('a[href*="Platframe_Postscript"]').toggle();
              $('a[href*="WINWIN"]').toggle();
              $('a[href*="On_consensus,_in_two_parts"]').toggle();
              $('a[href*="Re-_and_Un-_Defining_Tools"]').toggle();
              $('a[href*="Mycelines:_A_Sympoetic_Imagination"]').toggle();
              $('a[href*="fileSHA_as_protocol"]').toggle();
              $('a[href*="Skinship"]').toggle();
            });

            $('a[href*="Prompts"]').click(function(){
              $('a[href*="Relearning_Food"]').toggle();
              $('a[href*="Across_Distance_and_Difference"]').toggle();
              $('a[href*="Roleplaying_in_Etherpad"]').toggle();
              $('a[href*="Spreadsheet_Routines"]').toggle();
              $('a[href*="Channeling_Listeners"]').toggle();
              $('a[href*="Untitling"]').toggle();
            });

            $('a[href*="How-tos"]').click(function(){
              $('a[href*="Learning_to_Experiment,_Sharing_Techniques"]').toggle();
              $('a[href*="Scripts_from:_Learning_to_Experiment,_Sharing_Techniques_(ed._Julia_Bee_and_Gerko_Egert)"]').toggle();
              $('a[href*="Give_and_Take"]').toggle();
              $('a[href*="Conceptual_Speed_Dating"]').toggle();
              $('a[href*="Bodystrike"]').toggle();
              $('a[href*="The_Button_Saga"]').toggle();
              $('a[href*="Mud_Batteries"]').toggle();
              $('a[href*="Gerwani_and_Api_Kartini._Indonesian_Womens_Movement"]').toggle();
              $('a[href*="Display(ing)"]').toggle();
            });

            $('a[href*="Distributed_Curricula"]').click(function(){
              $('a[href*="Cooperative_gaming"]').toggle();
              $('a[href*="A_case_of_mistaken_identity"]').toggle();
              $('a[href*="Interfacial-Workouts"]').toggle();
              $('a[href*="Am_I_a_hacker_now?"]').toggle();
              $('a[href*="wiki_reflections"]').toggle();
              $('a[href*="Critical_Coding_Cookbook"]').toggle();
              $('a[href*="ChattyPub"]').toggle();
              $('a[href*="Scripting_Workshops"]').toggle();
            });

            $('a[href*="Active_bibliographies"]').click(function(){
              $('a[href*="Workshop_Histories_and_Practices"]').toggle();
              $('a[href*="Did_video_kill_the_radio_(star)?"]').toggle();
              $('a[href*="Solarpunk_Postscript"]').toggle();
              $('a[href*="Workshop_Matters_and_Materials"]').toggle();
            });


//SLIDESHOW 1
            $('a[href*="Platframe_Postscript').click(function(){
              $('.chapter-Platframe_Postscript').show();
              $('.scriptothek-slideshow-1').hide();
            });

            $('.script-trailer-1').click(function(e) {
              e.preventDefault();
              $('.scriptothek-wrapper').css("width", "96.5%");

              $('.script-trailer-1').hide();
              $('.scriptothek-slideshow-1, .close-wrapper, .slideshow-buttons').show();

              $('.introduction, .setting-conditions, .how-tos, .prompts, .scripted-syllabi, .active-bibliographies, .btn-wrapper').hide();
            });

            $('.close').click(function(){
              $('.scriptothek-wrapper').css("width", "21.5%");
              $('.script-trailer').show();

              $('.scriptothek-slideshow, .close-wrapper, .slideshow-buttons').hide();
              $('.introduction, .setting-conditions, .how-tos, .prompts, .scripted-syllabi, .active-bibliographies, .btn-wrapper').show();
            });
    });

            var slideIndex = 1;
            showDivs(slideIndex);

            function plusDivs(n) {
              showDivs(slideIndex += n);
            }

            function showDivs(n) {
              var i;
              var x = document.getElementsByClassName("script-image-1");
              if (n > x.length) {slideIndex = 1}
              if (n < 1) {slideIndex = x.length}
              for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
              }
              x[slideIndex-1].style.display = "block";  
            }
</script>
</main>
{% endblock %}

